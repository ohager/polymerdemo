
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="../common/message-dialog.html">


<dom-module id="editor-frame">
  <style>
    :host {
      display: block;
    }

    .button {
      margin-top: 1em;
    }

    @media (max-width: 600px) {
      h1.paper-font-display1 {
        font-size: 24px;
      }
    }

  </style>

  <template>
    <h1 class="paper-font-display1"><span>{{greeting}}</span></h1>
    <div id="content">
      <content></content>
    </div>
    <paper-button class="button" on-click="save" raised>Save</paper-button>
    <message-dialog id="dialog" title="Saved Data" message="[[editorData]]" ></message-dialog>

  </template>

  <script>
    (function() {
      "use strict";
      Polymer({
        is: 'editor-frame',

        properties: {
          editorData : {
            type: String,
            notify: true,
            value: ''
          },
          greeting: {
            type: String,
            notify : true
          }
        },


        save : function() {
          var model= this.$.content.firstElementChild.model;
          this.editorData = JSON.stringify(model);
          this.$.dialog.open();
        }

      });
    })();
  </script>

</dom-module>

